machine:
  python:
    version: 2.7.10

dependencies:
  pre:
    - wget http://repo.continuum.io/miniconda/Miniconda-latest-Linux-x86_64.sh ~/miniconda.sh
    - bash ~/miniconda.sh -b -p $HOME/miniconda
    - export PATH="$HOME/miniconda/bin:$PATH"
    - conda update conda
    - conda install conda-build
    - conda config --add channels getpantheon

test:
  override:
    - cd $CIRCLE_PROJECT_REPONAME
    - conda env create
    - source activate $CIRCLE_PROJECT_REPONAME
    - make build
    - make install
    - make test
    - make lint
    - make coverage
    - coveralls
